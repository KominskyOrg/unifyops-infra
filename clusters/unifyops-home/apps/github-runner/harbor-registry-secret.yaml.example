# Example: Harbor Registry Pull Secret for ARC Runners
#
# IMPORTANT: DO NOT commit this file with real credentials!
# This is a template - use the commands below to create the actual secret.
#
# Create the secret with kubectl:
#
# kubectl create secret docker-registry harbor-registry-secret \
#   --namespace=github-runners \
#   --docker-server=harbor.unifyops.io \
#   --docker-username=robot$arc-runner \
#   --docker-password='YOUR_ROBOT_TOKEN_HERE' \
#   --dry-run=client -o yaml | kubectl apply -f -
#
# Or use sealed-secrets for GitOps:
#
# 1. Create the secret:
#    kubectl create secret docker-registry harbor-registry-secret \
#      --namespace=github-runners \
#      --docker-server=harbor.unifyops.io \
#      --docker-username=robot$arc-runner \
#      --docker-password='YOUR_ROBOT_TOKEN_HERE' \
#      --dry-run=client -o yaml > /tmp/harbor-secret.yaml
#
# 2. Seal it:
#    kubeseal --controller-name=sealed-secrets \
#      --controller-namespace=sealed-secrets \
#      < /tmp/harbor-secret.yaml > harbor-registry-secret.sealed.yaml
#
# 3. Clean up plaintext:
#    rm /tmp/harbor-secret.yaml
#
# 4. Apply sealed secret:
#    kubectl apply -f harbor-registry-secret.sealed.yaml
#
# Best Practice: Create a Robot Account in Harbor
# ------------------------------------------------
# 1. Login to Harbor UI (https://harbor.unifyops.io)
# 2. Go to Projects -> library -> Robot Accounts
# 3. Create new robot account: "arc-runner"
# 4. Set permissions: Pull/Read only for library project
# 5. Copy the token
# 6. Use robot account credentials above (username: robot$arc-runner)

---
apiVersion: v1
kind: Secret
metadata:
  name: harbor-registry-secret
  namespace: github-runners
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: <base64-encoded-docker-config>
